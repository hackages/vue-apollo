(function(n){function e(e){for(var r,i,o=e[0],u=e[1],c=e[2],l=0,d=[];l<o.length;l++)i=o[l],s[i]&&d.push(s[i][0]),s[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(n[r]=u[r]);f&&f(e);while(d.length)d.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var n,e=0;e<a.length;e++){for(var t=a[e],r=!0,i=1;i<t.length;i++){var o=t[i];0!==s[o]&&(r=!1)}r&&(a.splice(e--,1),n=u(u.s=t[0]))}return n}var r={},i={7:0},s={7:0},a=[];function o(n){return u.p+"js/"+({}[n]||n)+"."+{0:"8000665a",1:"c16a91f8",2:"93220aa0",3:"8aa4a621",4:"42d275f2",5:"b86645e2"}[n]+".js"}function u(e){if(r[e])return r[e].exports;var t=r[e]={i:e,l:!1,exports:{}};return n[e].call(t.exports,t,t.exports,u),t.l=!0,t.exports}u.e=function(n){var e=[],t={0:1,1:1,3:1,4:1,5:1};i[n]?e.push(i[n]):0!==i[n]&&t[n]&&e.push(i[n]=new Promise(function(e,t){for(var r="css/"+({}[n]||n)+"."+{0:"4ba01f9d",1:"e29926d0",2:"31d6cfe0",3:"fea7cb8e",4:"a6ce5c43",5:"7edd5ea5"}[n]+".css",i=u.p+r,s=document.getElementsByTagName("link"),a=0;a<s.length;a++){var o=s[a],c=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(c===r||c===i))return e()}var l=document.getElementsByTagName("style");for(a=0;a<l.length;a++){o=l[a],c=o.getAttribute("data-href");if(c===r||c===i)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var r=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+n+" failed.\n("+r+")");s.request=r,t(s)},d.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(d)}).then(function(){i[n]=0}));var r=s[n];if(0!==r)if(r)e.push(r[2]);else{var a=new Promise(function(e,t){r=s[n]=[e,t]});e.push(r[2]=a);var c,l=document.getElementsByTagName("head")[0],d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=o(n),c=function(e){d.onerror=d.onload=null,clearTimeout(f);var t=s[n];if(0!==t){if(t){var r=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src,a=new Error("Loading chunk "+n+" failed.\n("+r+": "+i+")");a.type=r,a.request=i,t[1](a)}s[n]=void 0}};var f=setTimeout(function(){c({type:"timeout",target:d})},12e4);d.onerror=d.onload=c,l.appendChild(d)}return Promise.all(e)},u.m=n,u.c=r,u.d=function(n,e,t){u.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},u.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},u.t=function(n,e){if(1&e&&(n=u(n)),8&e)return n;if(4&e&&"object"===typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(u.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var r in n)u.d(t,r,function(e){return n[e]}.bind(null,r));return t},u.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return u.d(e,"a",e),e},u.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},u.p="/",u.oe=function(n){throw console.error(n),n};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var d=0;d<c.length;d++)e(c[d]);var f=l;a.push([3,6]),t()})({"+aOy":function(n,e,t){"use strict";t.d(e,"e",function(){return g}),t.d(e,"g",function(){return h}),t.d(e,"f",function(){return b}),t.d(e,"h",function(){return y}),t.d(e,"d",function(){return k}),t.d(e,"a",function(){return w}),t.d(e,"c",function(){return O}),t.d(e,"i",function(){return $}),t.d(e,"b",function(){return I});var r=t("buwU"),i=t("lTCR"),s=t.n(i);function a(){var n=Object(r["a"])(["\n  subscription CheckInAdded($onlyBeers: Boolean!) {\n    checkinAdded {\n      id @skip(if: $onlyBeers)\n      beer {\n        name\n        tagline\n        id\n        image_url\n      }\n      user @skip(if: $onlyBeers) {\n        username\n        id\n      }\n      rating @skip(if: $onlyBeers)\n      createdAt @skip(if: $onlyBeers)\n      text @skip(if: $onlyBeers)\n    }\n  }\n"]);return a=function(){return n},n}function o(){var n=Object(r["a"])(["\n  mutation SignInUserMutation($username: String!, $password: String!) {\n    signInUser(username: $username, password: $password) {\n      token\n      user {\n        id\n        username\n        friends {\n          id\n          username\n        }\n      }\n    }\n  }\n"]);return o=function(){return n},n}function u(){var n=Object(r["a"])(["\n  mutation CreateUserMutation($username: String!, $password: String!) {\n    createUser(username: $username, password: $password) {\n      id\n      username\n      createdAt\n    }\n  }\n"]);return u=function(){return n},n}function c(){var n=Object(r["a"])(["\n  mutation CheckInMutation($beer: Int!, $rating: Float, $text: String) {\n    createCheckin(beer: $beer, rating: $rating, text: $text) {\n      id\n    }\n  }\n"]);return c=function(){return n},n}function l(){var n=Object(r["a"])(["\n  mutation Follow($id: ID!) {\n    addFriend(id: $id) {\n      id\n      username\n      friends {\n        id\n        username\n      }\n    }\n  }\n"]);return l=function(){return n},n}function d(){var n=Object(r["a"])(["\n  query GetBeers($limit: Int) {\n    beers(limit: $limit) {\n      id\n    }\n  }\n"]);return d=function(){return n},n}function f(){var n=Object(r["a"])(["\n  query GetUserFeed($limit: Int) {\n    userFeed(limit: $limit) {\n      id\n      beer {\n        name\n        tagline\n        id\n        image_url\n      }\n      user {\n        username\n        id\n      }\n      rating\n      createdAt\n      text\n    }\n  }\n"]);return f=function(){return n},n}function j(){var n=Object(r["a"])(["\n  query GetLatestCheckIns($limit: Int, $onlyBeers: Boolean!) {\n    checkins(limit: $limit) {\n      id @skip(if: $onlyBeers)\n      beer {\n        name\n        tagline\n        id\n        image_url\n      }\n      user @skip(if: $onlyBeers) {\n        username\n        id\n      }\n      rating @skip(if: $onlyBeers)\n      createdAt @skip(if: $onlyBeers)\n      text @skip(if: $onlyBeers)\n    }\n  }\n"]);return j=function(){return n},n}function m(){var n=Object(r["a"])(["\n  query GetCheckIn($id: ID) {\n    checkin(id: $id) {\n      beer {\n        name\n        tagline\n        average\n        abv\n        ibu\n        image_url\n      }\n      user {\n        id\n        username\n      }\n      id\n      createdAt\n      rating\n    }\n  }\n"]);return m=function(){return n},n}function p(){var n=Object(r["a"])(["\n  query GetUser($id: ID, $detailed: Boolean!, $history: Boolean!) {\n    user(id: $id) {\n      username\n      id\n      beer_history @include(if: $history) {\n        beersHad\n        uniqueBeersHad\n        averageRating\n      }\n      friends {\n        id\n        username @include(if: $detailed)\n      }\n      check_ins @include(if: $detailed) {\n        rating\n        createdAt\n        text\n        beer {\n          name\n          image_url\n          id\n          average\n        }\n        user {\n          username\n          id\n        }\n      }\n    }\n  }\n"]);return p=function(){return n},n}function v(){var n=Object(r["a"])(["\n  query GetBeer($id: Int!, $detailed: Boolean!) {\n    beer(id: $id) {\n      id\n      name\n      tagline\n      image_url\n      average @include(if: $detailed)\n      abv @include(if: $detailed)\n      ibu @include(if: $detailed)\n      description @include(if: $detailed)\n      check_ins @include(if: $detailed) {\n        user {\n          username\n          id\n        }\n        beer {\n          name\n          id\n          average\n        }\n        rating\n        createdAt\n        text\n        id\n      }\n    }\n  }\n"]);return v=function(){return n},n}var g=s()(v()),h=s()(p()),b=(s()(m()),s()(j())),y=s()(f()),k=(s()(d()),s()(l())),w=s()(c()),O=s()(u()),$=s()(o()),I=s()(a())},3:function(n,e,t){n.exports=t("Vtdi")},EDI0:function(n,e,t){},KOTG:function(n,e,t){},NVJw:function(n,e,t){},RnhZ:function(n,e,t){var r={"./af":"K/tc","./af.js":"K/tc","./ar":"jnO4","./ar-dz":"o1bE","./ar-dz.js":"o1bE","./ar-kw":"Qj4J","./ar-kw.js":"Qj4J","./ar-ly":"HP3h","./ar-ly.js":"HP3h","./ar-ma":"CoRJ","./ar-ma.js":"CoRJ","./ar-sa":"gjCT","./ar-sa.js":"gjCT","./ar-tn":"bYM6","./ar-tn.js":"bYM6","./ar.js":"jnO4","./az":"SFxW","./az.js":"SFxW","./be":"H8ED","./be.js":"H8ED","./bg":"hKrs","./bg.js":"hKrs","./bm":"p/rL","./bm.js":"p/rL","./bn":"kEOa","./bn.js":"kEOa","./bo":"0mo+","./bo.js":"0mo+","./br":"aIdf","./br.js":"aIdf","./bs":"JVSJ","./bs.js":"JVSJ","./ca":"1xZ4","./ca.js":"1xZ4","./cs":"PA2r","./cs.js":"PA2r","./cv":"A+xa","./cv.js":"A+xa","./cy":"l5ep","./cy.js":"l5ep","./da":"DxQv","./da.js":"DxQv","./de":"tGlX","./de-at":"s+uk","./de-at.js":"s+uk","./de-ch":"u3GI","./de-ch.js":"u3GI","./de.js":"tGlX","./dv":"WYrj","./dv.js":"WYrj","./el":"jUeY","./el.js":"jUeY","./en-au":"Dmvi","./en-au.js":"Dmvi","./en-ca":"OIYi","./en-ca.js":"OIYi","./en-gb":"Oaa7","./en-gb.js":"Oaa7","./en-ie":"4dOw","./en-ie.js":"4dOw","./en-il":"czMo","./en-il.js":"czMo","./en-nz":"b1Dy","./en-nz.js":"b1Dy","./eo":"Zduo","./eo.js":"Zduo","./es":"iYuL","./es-do":"CjzT","./es-do.js":"CjzT","./es-us":"Vclq","./es-us.js":"Vclq","./es.js":"iYuL","./et":"7BjC","./et.js":"7BjC","./eu":"D/JM","./eu.js":"D/JM","./fa":"jfSC","./fa.js":"jfSC","./fi":"gekB","./fi.js":"gekB","./fo":"ByF4","./fo.js":"ByF4","./fr":"nyYc","./fr-ca":"2fjn","./fr-ca.js":"2fjn","./fr-ch":"Dkky","./fr-ch.js":"Dkky","./fr.js":"nyYc","./fy":"cRix","./fy.js":"cRix","./gd":"9rRi","./gd.js":"9rRi","./gl":"iEDd","./gl.js":"iEDd","./gom-latn":"DKr+","./gom-latn.js":"DKr+","./gu":"4MV3","./gu.js":"4MV3","./he":"x6pH","./he.js":"x6pH","./hi":"3E1r","./hi.js":"3E1r","./hr":"S6ln","./hr.js":"S6ln","./hu":"WxRl","./hu.js":"WxRl","./hy-am":"1rYy","./hy-am.js":"1rYy","./id":"UDhR","./id.js":"UDhR","./is":"BVg3","./is.js":"BVg3","./it":"bpih","./it.js":"bpih","./ja":"B55N","./ja.js":"B55N","./jv":"tUCv","./jv.js":"tUCv","./ka":"IBtZ","./ka.js":"IBtZ","./kk":"bXm7","./kk.js":"bXm7","./km":"6B0Y","./km.js":"6B0Y","./kn":"PpIw","./kn.js":"PpIw","./ko":"Ivi+","./ko.js":"Ivi+","./ky":"lgnt","./ky.js":"lgnt","./lb":"RAwQ","./lb.js":"RAwQ","./lo":"sp3z","./lo.js":"sp3z","./lt":"JvlW","./lt.js":"JvlW","./lv":"uXwI","./lv.js":"uXwI","./me":"KTz0","./me.js":"KTz0","./mi":"aIsn","./mi.js":"aIsn","./mk":"aQkU","./mk.js":"aQkU","./ml":"AvvY","./ml.js":"AvvY","./mn":"lYtQ","./mn.js":"lYtQ","./mr":"Ob0Z","./mr.js":"Ob0Z","./ms":"6+QB","./ms-my":"ZAMP","./ms-my.js":"ZAMP","./ms.js":"6+QB","./mt":"G0Uy","./mt.js":"G0Uy","./my":"honF","./my.js":"honF","./nb":"bOMt","./nb.js":"bOMt","./ne":"OjkT","./ne.js":"OjkT","./nl":"+s0g","./nl-be":"2ykv","./nl-be.js":"2ykv","./nl.js":"+s0g","./nn":"uEye","./nn.js":"uEye","./pa-in":"8/+R","./pa-in.js":"8/+R","./pl":"jVdC","./pl.js":"jVdC","./pt":"8mBD","./pt-br":"0tRk","./pt-br.js":"0tRk","./pt.js":"8mBD","./ro":"lyxo","./ro.js":"lyxo","./ru":"lXzo","./ru.js":"lXzo","./sd":"Z4QM","./sd.js":"Z4QM","./se":"//9w","./se.js":"//9w","./si":"7aV9","./si.js":"7aV9","./sk":"e+ae","./sk.js":"e+ae","./sl":"gVVK","./sl.js":"gVVK","./sq":"yPMs","./sq.js":"yPMs","./sr":"zx6S","./sr-cyrl":"E+lV","./sr-cyrl.js":"E+lV","./sr.js":"zx6S","./ss":"Ur1D","./ss.js":"Ur1D","./sv":"X709","./sv.js":"X709","./sw":"dNwA","./sw.js":"dNwA","./ta":"PeUW","./ta.js":"PeUW","./te":"XLvN","./te.js":"XLvN","./tet":"V2x9","./tet.js":"V2x9","./tg":"Oxv6","./tg.js":"Oxv6","./th":"EOgW","./th.js":"EOgW","./tl-ph":"Dzi0","./tl-ph.js":"Dzi0","./tlh":"z3Vd","./tlh.js":"z3Vd","./tr":"DoHr","./tr.js":"DoHr","./tzl":"z1FC","./tzl.js":"z1FC","./tzm":"wQk9","./tzm-latn":"tT3J","./tzm-latn.js":"tT3J","./tzm.js":"wQk9","./ug-cn":"YRex","./ug-cn.js":"YRex","./uk":"raLr","./uk.js":"raLr","./ur":"UpQW","./ur.js":"UpQW","./uz":"Loxo","./uz-latn":"AQ68","./uz-latn.js":"AQ68","./uz.js":"Loxo","./vi":"KSF8","./vi.js":"KSF8","./x-pseudo":"/X5v","./x-pseudo.js":"/X5v","./yo":"fzPg","./yo.js":"fzPg","./zh-cn":"XDpg","./zh-cn.js":"XDpg","./zh-hk":"SatO","./zh-hk.js":"SatO","./zh-tw":"kOpN","./zh-tw.js":"kOpN"};function i(n){var e=s(n);return t(e)}function s(n){var e=r[n];if(!(e+1)){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}return e}i.keys=function(){return Object.keys(r)},i.resolve=s,n.exports=i,i.id="RnhZ"},Vtdi:function(n,e,t){"use strict";t.r(e);var r=t("yT7P"),i=(t("VRzm"),t("Kw5r")),s=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{attrs:{id:"app"}},[t("navbar",{on:{logout:function(e){n.logout()}}}),t("router-view")],1)},a=[],o=function(){var n=this,e=n.$createElement,t=n._self._c||e;return"/"!==n.$route.path?t("div",{attrs:{id:"nav"}},[t("router-link",{attrs:{to:"/feed"}},[n._v("Home")]),n._v(" |\n  "),t("router-link",{attrs:{to:"/user/"+n.userInfo.id}},[n._v("Profile")]),n._v(" |\n  "),t("div",{staticClass:"user-info"},[n.userInfo.username?t("div",[t("span",[n._v("Hello "+n._s(n.userInfo.username))]),t("avatar",{attrs:{id:n.userInfo.id}}),t("button",{on:{click:function(e){n.$emit("logout")}}},[n._v("log out")])],1):n._e()])],1):n._e()},u=[],c=t("vYcY"),l={components:{Avatar:c["a"]},computed:{userInfo:function(){return this.$store.state.userInfo}}},d=l,f=(t("upHi"),t("KHd+")),j=Object(f["a"])(d,o,u,!1,null,null,null),m=j.exports,p=t("+aOy"),v={components:{Navbar:m},apollo:{user:{query:p["g"],variables:{detailed:!1,history:!1},result:function(n){var e=n.data.user,t=e.id,r=e.username,i=e.friends;this.$store.commit("setUserInfo",{id:t,username:r,friends:i})},skip:function(){return!localStorage.getItem("token")},error:function(n){console.warn(n)}}},computed:{userInfo:function(){return this.$store.state.userInfo}},methods:{logout:function(){this.$store.commit("logOut"),localStorage.removeItem("token"),this.$router.push("/")}}},g=v,h=(t("ZL7j"),Object(f["a"])(g,s,a,!1,null,null,null)),b=h.exports,y=(t("ls82"),t("MECJ")),k=t("jE9Z"),w=t("L2JU");i["a"].use(w["a"]);var O={id:"",username:"",friends:[]},$=new w["a"].Store({state:{userInfo:O,isLoggedIn:!1},getters:{getUser:function(n){return n.userInfo},isLoggedIn:function(n){return!!n.userInfo.username}},mutations:{setUserInfo:function(n,e){var t=e.username,r=e.id,i=e.friends;n.isLoggedIn=!0,n.userInfo={username:t,id:r,friends:i.map(function(n){return n.id})}},logOut:function(n){n.isLoggedIn=!1,n.userInfo=O}},actions:{}}),I=$,x=function(){return Promise.all([t.e(0),t.e(5)]).then(t.bind(null,"klC1"))},z=function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,"fYq5"))},B=function(){return t.e(3).then(t.bind(null,"VMjl"))},D=function(){return t.e(2).then(t.bind(null,"z8vP"))},E=function(){return t.e(1).then(t.bind(null,"GRB2"))};i["a"].use(k["a"]);var S=function(){var n=Object(y["a"])(regeneratorRuntime.mark(function n(e,t,r){return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,new Promise(function(n){return setTimeout(function(){n()},100)});case 2:I.state.userInfo.id?r("/feed"):r();case 3:case"end":return n.stop()}},n,this)}));return function(e,t,r){return n.apply(this,arguments)}}(),C=function(){var n=Object(y["a"])(regeneratorRuntime.mark(function n(e,t,r){return regeneratorRuntime.wrap(function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,new Promise(function(n){return setTimeout(function(){n()},100)});case 2:I.state.userInfo.id?r():r("/");case 3:case"end":return n.stop()}},n,this)}));return function(e,t,r){return n.apply(this,arguments)}}(),P=new k["a"]({routes:[{path:"/",name:"home",component:z,beforeEnter:S},{path:"/feed",name:"feed",component:x,beforeEnter:C},{path:"/beer/:id",name:"beerDetails",component:B,props:!0},{path:"/login",name:"login",component:D,props:!0},{path:"/user/:id",name:"userDetails",component:E,props:!0}]}),_=t("J7Bk"),U=t("hEyz"),R=t("cfNM"),A=t("Ui0k"),V=t("+k5Y"),Y=t("r538"),M=t("QSey"),T=t("5wOO"),J=function(n){return"http://i.pravatar.cc/150?u=".concat(n)},L=t("wd/R"),Q=t.n(L),N=new U["a"]({uri:"http://localhost:4000/graphql",credentials:"same-origin"}),q=new M["a"]({uri:"ws://localhost:4001/subscriptions",options:{reconnect:!0}}),K=Object(V["a"])(function(n,e){var t=e.headers,i=localStorage.getItem("token");return{headers:Object(r["a"])({},t,{authorization:i})}}),Z=Object(Y["e"])(function(n){var e=n.query,t=Object(T["a"])(e),r=t.kind,i=t.operation;return"OperationDefinition"===r&&"subscription"===i},q,N),F=new _["a"]({link:K.concat(Z),cache:new R["a"],connectToDevTools:!0});i["a"].use(A["a"]);var H=new A["a"]({defaultClient:F});new i["a"]({el:"#app",router:P,store:I,provide:H.provide(),render:function(n){return n(b)}}),i["a"].directive("background",function(n,e){var t=e.value;return n.style.background="url(".concat(t,") no-repeat center/contain")}),i["a"].directive("avatar",function(n,e){var t=e.value;return n.style.background="url(".concat(J(t),") no-repeat center/contain")}),i["a"].filter("ago",function(n){return Q()(n).fromNow()})},ZL7j:function(n,e,t){"use strict";var r=t("EDI0"),i=t.n(r);i.a},ab6P:function(n,e,t){"use strict";var r=t("NVJw"),i=t.n(r);i.a},upHi:function(n,e,t){"use strict";var r=t("KOTG"),i=t.n(r);i.a},vYcY:function(n,e,t){"use strict";var r=function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("router-link",{attrs:{to:"/user/"+n.id}},[t("div",{directives:[{name:"avatar",rawName:"v-avatar",value:n.id,expression:"id"}],staticClass:"avatar"})])},i=[],s={props:{id:{type:String,default:null,required:!0}}},a=s,o=(t("ab6P"),t("KHd+")),u=Object(o["a"])(a,r,i,!1,null,"672e7a15",null);e["a"]=u.exports}});
//# sourceMappingURL=app.2ef676dd.js.map